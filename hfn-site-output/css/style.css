/* History Future Now — Global Styles v3 (Economist Edition) */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --bg: #ffffff; --bg-warm: #fdfcfb; --surface: #f8f7f5;
  --border: #e9e5df; --border-light: #f2eeea;
  --text: #1a1815; --text-body: #3a3630; --text-dim: #8a8479; --text-faint: #b5afa6;
  --accent: #c43425; --accent-soft: #fef3f1;
  --blue: #2563eb; --green: #0d9a5a; --amber: #b8751a; --purple: #7c3aed; --teal: #0c8f8f; --cyan: #0284c7;
  --serif: 'Playfair Display', Georgia, serif;
  --sans: 'Source Sans 3', -apple-system, BlinkMacSystemFont, sans-serif;
  --mono: 'IBM Plex Mono', 'Menlo', monospace;
}
html { scroll-behavior: smooth; }
body { font-family: var(--sans); background: var(--bg); color: var(--text-body); line-height: 1.78; font-size: 1.05rem; -webkit-font-smoothing: antialiased; }
a { color: var(--accent); text-decoration: none; transition: color 0.2s; }
a:hover { color: var(--text); }
img { max-width: 100%; height: auto; }

/* ── ECONOMIST-STYLE MASTHEAD NAV ── */
.site-nav { position: sticky; top: 0; z-index: 100; background: var(--bg); border-top: 3px solid var(--accent); border-bottom: 1px solid var(--border); }
.nav-inner { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem; display: flex; flex-direction: column; align-items: center; }
.nav-top-row { display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 0.6rem 0 0.4rem; }
.nav-logo { font-family: var(--serif); font-size: 1.55rem; font-weight: 700; color: var(--text); letter-spacing: 0.04em; text-transform: uppercase; text-align: center; flex: 1; }
.nav-logo span { color: var(--accent); font-style: italic; font-weight: 500; text-transform: none; }
.nav-links { display: flex; gap: 0; list-style: none; border-top: 1px solid var(--border-light); padding: 0.35rem 0; width: 100%; justify-content: center; }
.nav-links li { display: flex; align-items: center; }
.nav-links li + li::before { content: ''; display: block; width: 1px; height: 14px; background: var(--border); margin: 0 0.15rem; }
.nav-links a { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--text-dim); padding: 0.3rem 0.65rem; transition: color 0.2s; }
.nav-links a:hover { color: var(--accent); }
.nav-links a.active { color: var(--accent); font-weight: 600; }
.nav-links a { position: relative; }
.saved-badge-dot { position: absolute; top: 0; right: 0; width: 6px; height: 6px; background: var(--accent, #c43425); border-radius: 50%; }
.nav-right { display: flex; align-items: center; gap: 0.25rem; position: absolute; right: 1.5rem; top: 0.6rem; }
.nav-toggle { display: none; background: none; border: none; cursor: pointer; padding: 0.5rem; color: var(--text); }
.nav-toggle svg { width: 22px; height: 22px; }
@media (max-width: 768px) {
  .nav-inner { align-items: stretch; }
  .nav-top-row { padding: 0.5rem 0; }
  .nav-logo { font-size: 1.15rem; text-align: left; }
  .nav-toggle { display: block; }
  .nav-links { display: none; flex-direction: column; padding: 0.5rem 0 1rem; gap: 0; border-top: 1px solid var(--border); }
  .nav-links.open { display: flex; }
  .nav-links li + li::before { display: none; }
  .nav-links a { padding: 0.6rem 0.5rem; font-size: 0.72rem; }
  .nav-right { top: 0.5rem; }
}

/* ── RED RULE DIVIDERS (Economist signature) ── */
.section-rule { border: none; border-top: 1px solid var(--accent); margin: 0; }
.section-rule-heavy { border: none; border-top: 2px solid var(--accent); margin: 0; }

/* FOOTER (Economist-style) */
.site-footer { border-top: 2px solid var(--accent); padding: 2rem 1.5rem; text-align: center; color: var(--text-faint); font-size: 0.82rem; }
.footer-inner { max-width: 1100px; margin: 0 auto; }
.footer-tagline { font-family: var(--serif); font-size: 1rem; font-style: italic; color: var(--text-dim); margin-bottom: 0.75rem; }
.footer-links { display: flex; flex-wrap: wrap; justify-content: center; gap: 0; margin-bottom: 1rem; list-style: none; }
.footer-links li { display: flex; align-items: center; }
.footer-links li + li::before { content: ''; display: block; width: 1px; height: 12px; background: var(--border); margin: 0 0.75rem; }
.footer-links a { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-dim); }
.footer-links a:hover { color: var(--accent); }

/* HERO */
.hero { text-align: center; padding: 2rem 1.5rem 1.25rem; max-width: 780px; margin: 0 auto; }
.hero h1 { font-family: var(--serif); font-size: clamp(2.2rem, 6vw, 3.4rem); font-weight: 700; color: var(--text); line-height: 1.12; letter-spacing: -0.025em; margin-bottom: 0.75rem; }
.hero h1 em { color: var(--accent); font-style: italic; font-weight: 500; }
.hero-sub { font-family: var(--serif); font-size: 1.05rem; font-style: italic; color: var(--text-dim); max-width: 520px; margin: 0 auto 1rem; line-height: 1.6; }
.hero-rule { width: 48px; height: 2px; background: var(--accent); border: none; border-radius: 1px; margin: 0 auto 0.75rem; }
.hero-intro { font-size: 1.05rem; color: var(--text-body); max-width: 600px; margin: 0 auto; line-height: 1.78; }

/* ── ARTICLE HERO IMAGE ── */
.article-hero-img { display: block; width: 100%; max-height: 420px; object-fit: cover; border-radius: 8px; margin: 1.5rem 0 0; }
.article-hero-wrap { margin: 0 -1rem 1.5rem; position: relative; }
.article-hero-wrap img { width: 100%; max-height: 420px; object-fit: cover; border-radius: 8px; }

/* ── CARD HERO IMAGE (homepage/section) ── */
.card-img { width: 100%; height: 180px; object-fit: cover; border-radius: 8px 8px 0 0; margin: -1.5rem -1.5rem 1rem; width: calc(100% + 3rem); }
.latest-card-img { width: 100%; height: 220px; object-fit: cover; border-radius: 12px 12px 0 0; margin: -1.25rem -1.25rem 1rem; width: calc(100% + 2.5rem); }
.latest-hero .latest-card-img { height: 300px; }

/* Hero chart + stats as one section so the chart isn’t a lone block */
.hero-and-stats-wrap {
  background: var(--bg-warm);
  border-top: 1px solid var(--border-light);
  border-bottom: 1px solid var(--border-light);
  padding: 1.5rem 1.5rem 1.2rem;
  margin-top: 0.5rem;
}
@media (min-width: 900px) {
  .hero-and-stats-wrap {
    display: grid;
    grid-template-columns: 1fr 280px;
    gap: 2rem;
    align-items: start;
    max-width: 1080px;
    margin-left: auto;
    margin-right: auto;
    padding: 2rem 1.5rem;
  }
  .hero-and-stats-wrap .hero-chart-wrap { margin: 0; padding: 0; max-width: none; }
  .hero-and-stats-wrap .stats-bar { background: none; border: none; padding: 0.5rem 0 0; }
  .hero-and-stats-wrap .stats-inner { flex-direction: column; gap: 0.75rem; text-align: left; justify-content: flex-start; max-width: none; }
  .hero-and-stats-wrap .stat { flex-direction: row; align-items: baseline; gap: 0.5rem; }
  .hero-and-stats-wrap .stat-num { font-size: 1.5rem; }
}

/* HERO CHART */
.hero-chart-wrap { max-width: 720px; margin: -0.5rem auto 0; padding: 0 1.5rem 1.5rem; }
.hero-chart-inner { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 1.5rem 1.5rem 1rem; }
.hero-chart-label { font-family: var(--mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.14em; color: var(--accent); font-weight: 500; margin-bottom: 0.25rem; }
.hero-chart-title { font-family: var(--serif); font-size: 1.35rem; font-weight: 600; color: var(--text); margin-bottom: 0.2rem; }
.hero-chart-desc { font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.8rem; line-height: 1.5; }
.hero-chart-box { position: relative; width: 100%; height: 280px; }
.hero-chart-source { font-family: var(--mono); font-size: 0.58rem; color: var(--text-faint); margin-top: 0.5rem; padding-top: 0.4rem; border-top: 1px solid var(--border-light); }
.hero-chart-source a { color: var(--accent); }

/* STATS BAR */
.stats-bar { background: var(--bg-warm); border-top: 1px solid var(--border-light); border-bottom: 1px solid var(--border-light); padding: 1.2rem 1.5rem; }
.hero-and-stats-wrap > .stats-bar { background: none; border: none; padding: 1.2rem 0 0; }
.stats-inner { max-width: 780px; margin: 0 auto; display: flex; justify-content: space-around; gap: 1rem; text-align: center; }
.stat { display: flex; flex-direction: column; gap: 0.15rem; }
.stat-num { font-family: var(--serif); font-size: 1.8rem; font-weight: 700; color: var(--text); letter-spacing: -0.03em; }
.stat-label { font-family: var(--mono); font-size: 0.58rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--text-dim); font-weight: 500; }

/* LISTEN TO HISTORY */
.listen-wrap { background: var(--surface); padding: 3rem 0; border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); }
.listen-inner { max-width: 1080px; margin: 0 auto; padding: 0 1.5rem; }
.listen-title { font-family: var(--serif); font-size: 1.5rem; font-weight: 600; color: var(--text); margin-bottom: 0.3rem; }
.listen-intro { font-size: 0.88rem; color: var(--text-dim); margin-bottom: 1.5rem; }
.listen-scroll { display: flex; gap: 1rem; overflow-x: auto; padding-bottom: 1rem; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; scrollbar-width: thin; }
.listen-scroll::-webkit-scrollbar { height: 4px; }
.listen-scroll::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
.listen-card { flex: 0 0 200px; scroll-snap-align: start; background: var(--bg); border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem 1rem 1rem; text-decoration: none; border-top: 3px solid var(--card-accent, #c43425); transition: transform 0.2s, box-shadow 0.2s; display: flex; flex-direction: column; gap: 0.6rem; box-shadow: 0 1px 3px rgba(0,0,0,0.06); }
.listen-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,0.1); }
.listen-card-top { display: flex; align-items: center; gap: 0.6rem; }
.listen-card-play { width: 36px; height: 36px; flex-shrink: 0; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1)); }
.listen-card-time { font-family: var(--mono); font-size: 0.72rem; color: var(--text-dim); letter-spacing: 0.04em; }
.listen-card-title { font-family: var(--serif); font-size: 0.88rem; font-weight: 600; color: var(--text); line-height: 1.35; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
.listen-card-kicker { font-family: var(--mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.1em; margin-top: auto; }
.listen-card-type { font-family: var(--mono); font-size: 0.55rem; color: var(--text-dim); letter-spacing: 0.04em; margin-top: 0.15rem; }
.listen-card .q-add-btn { font-size: 0.55rem; padding: 0.25rem 0.5rem; margin-top: 0.4rem; align-self: flex-start; background: var(--surface); border-color: var(--border); color: var(--text-dim); }
.listen-card .q-add-btn:hover { color: var(--text); border-color: var(--text-dim); background: var(--border-light); }

/* LISTEN TEASER CTA (homepage) */
.listen-teaser-cta { margin-top: 1.25rem; text-align: center; }
.listen-browse-link { display: inline-flex; flex-direction: column; align-items: center; gap: 0.3rem; padding: 0.75rem 1.5rem; border: 1px solid var(--border); border-radius: 10px; text-decoration: none; transition: all 0.2s; background: var(--bg); }
.listen-browse-link:hover { border-color: var(--accent); box-shadow: 0 2px 8px rgba(0,0,0,0.06); transform: translateY(-1px); }
.listen-browse-stats { font-family: var(--mono); font-size: 0.7rem; color: var(--text-dim); letter-spacing: 0.04em; text-transform: uppercase; }
.listen-browse-action { font-family: var(--serif); font-size: 0.95rem; font-weight: 600; color: var(--accent); }

/* ── LISTEN PAGE ── */
.lp-hero { background: var(--surface); padding: 3rem 0 2.5rem; border-bottom: 1px solid var(--border); }
.lp-hero-inner { max-width: 780px; margin: 0 auto; padding: 0 1.5rem; text-align: center; }
.lp-hero-title { font-family: var(--serif); font-size: 2.2rem; font-weight: 700; color: var(--text); margin-bottom: 0.6rem; letter-spacing: -0.02em; }
.lp-hero-desc { font-size: 1rem; color: var(--text-dim); line-height: 1.6; margin-bottom: 1.25rem; max-width: 600px; margin-left: auto; margin-right: auto; }
.lp-hero-stats { display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1.5rem; }
.lp-stat { font-family: var(--mono); font-size: 0.78rem; color: var(--text); letter-spacing: 0.03em; }
.lp-stat strong { font-weight: 700; color: var(--accent); }
.lp-stat-sep { color: var(--text-faint); font-size: 0.7rem; }
.lp-queue-all { margin: 0 auto; }

/* LISTEN PAGE FILTERS */
.lp-filters { background: var(--bg); border-bottom: 1px solid var(--border); padding: 1rem 0; position: sticky; top: 42px; z-index: 50; }
.lp-filters-inner { max-width: 1080px; margin: 0 auto; padding: 0 1.5rem; display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap; }
.lp-filter-group { display: flex; align-items: center; gap: 0.4rem; flex-wrap: wrap; }
.lp-filter-label { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-faint); margin-right: 0.3rem; font-weight: 500; }
.lp-tab, .lp-type-btn { font-family: var(--mono); font-size: 0.68rem; padding: 0.3rem 0.7rem; border: 1px solid var(--border); border-radius: 20px; background: var(--bg); color: var(--text-dim); cursor: pointer; transition: all 0.15s; letter-spacing: 0.02em; white-space: nowrap; }
.lp-tab:hover, .lp-type-btn:hover { border-color: var(--text-dim); color: var(--text); }
.lp-tab.active { background: var(--text); color: var(--bg); border-color: var(--text); }
.lp-tab.active[data-filter]:not([data-filter="all"]) { background: var(--tab-color, var(--text)); border-color: var(--tab-color, var(--text)); color: #fff; }
.lp-type-btn.active { background: var(--accent); color: #fff; border-color: var(--accent); }
.lp-tab-count { font-size: 0.58rem; opacity: 0.7; margin-left: 0.15rem; }

/* LISTEN PAGE LIST */
.lp-list-wrap { max-width: 1080px; margin: 0 auto; padding: 1rem 1.5rem 3rem; }
.lp-list-inner { }
.lp-list-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border-light); }
.lp-showing { font-family: var(--mono); font-size: 0.68rem; color: var(--text-faint); letter-spacing: 0.03em; }
.lp-showing strong { color: var(--text-dim); }
.lp-list { display: flex; flex-direction: column; }

/* LISTEN PAGE ROW */
.lp-row { display: flex; align-items: center; gap: 1rem; padding: 0.85rem 0.75rem; border-bottom: 1px solid var(--border-light); text-decoration: none; transition: background 0.15s; border-radius: 6px; }
.lp-row:hover { background: var(--surface); }
.lp-row-play { width: 28px; height: 28px; flex-shrink: 0; opacity: 0.8; }
.lp-row:hover .lp-row-play { opacity: 1; }
.lp-row-main { flex: 1; min-width: 0; }
.lp-row-title { font-family: var(--serif); font-size: 0.92rem; font-weight: 600; color: var(--text); line-height: 1.35; }
.lp-row-excerpt { font-size: 0.78rem; color: var(--text-dim); line-height: 1.4; margin-top: 0.2rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.lp-row-section { font-family: var(--mono); font-size: 0.58rem; text-transform: uppercase; letter-spacing: 0.08em; padding: 0.15rem 0.5rem; border: 1px solid; border-radius: 3px; white-space: nowrap; flex-shrink: 0; font-weight: 500; }
.lp-row-duration { font-family: var(--mono); font-size: 0.72rem; color: var(--text-dim); white-space: nowrap; flex-shrink: 0; min-width: 3.5rem; text-align: right; }
.lp-row-type { font-family: var(--mono); font-size: 0.58rem; color: var(--text-faint); white-space: nowrap; flex-shrink: 0; min-width: 5rem; }
.lp-row .q-add-btn { font-size: 0.55rem; padding: 0.25rem 0.5rem; flex-shrink: 0; background: var(--surface); border-color: var(--border); color: var(--text-dim); }
.lp-row .q-add-btn:hover { color: var(--text); border-color: var(--text-dim); background: var(--border-light); }

/* DATA STORIES STRIP */
.data-stories-wrap { padding: 2rem 0 1.5rem; }
.data-stories-inner { max-width: 1080px; margin: 0 auto; padding: 0 1.5rem; }
.ds-title { font-family: var(--serif); font-size: 1.5rem; font-weight: 600; color: var(--text); margin-bottom: 0.3rem; }
.ds-intro { font-size: 0.9rem; color: var(--text-dim); margin-bottom: 1.5rem; }
.ds-scroll { display: flex; gap: 1rem; overflow-x: auto; padding-bottom: 1rem; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; scrollbar-width: thin; }
.ds-scroll::-webkit-scrollbar { height: 4px; }
.ds-scroll::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
.ds-card { flex: 0 0 220px; scroll-snap-align: start; background: var(--bg-warm); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; transition: transform 0.25s ease, box-shadow 0.25s ease; display: flex; flex-direction: column; }
.ds-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
.ds-chart { height: 130px; padding: 0.6rem 0.6rem 0; position: relative; }
.ds-chart canvas { width: 100% !important; height: 100% !important; }
.ds-text { padding: 0.7rem 0.9rem 0.9rem; flex: 1; display: flex; flex-direction: column; }
.ds-headline { font-family: var(--serif); font-size: 0.82rem; font-weight: 600; color: var(--text); line-height: 1.3; margin-bottom: auto; }
.ds-sub { font-family: var(--mono); font-size: 0.55rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--accent); margin-top: 0.6rem; font-weight: 500; }

/* SECTION CHART PREVIEWS */
.home-section-title-row { display: flex; align-items: center; gap: 1rem; }
.sec-chart-preview { width: 72px; height: 48px; flex-shrink: 0; border-radius: 6px; overflow: hidden; background: var(--bg-warm); border: 1px solid var(--border-light); }
.sec-chart-preview canvas { width: 100% !important; height: 100% !important; }

/* CARD CHART BADGE */
.card-charts { font-family: var(--mono); font-size: 0.55rem; background: var(--accent); color: #fff; padding: 0.1em 0.45em; border-radius: 3px; margin-left: 0.4em; letter-spacing: 0.04em; vertical-align: middle; font-weight: 500; }

/* CARD AUDIO BADGE */
.card-audio { font-family: var(--mono); font-size: 0.55rem; background: var(--blue); color: #fff; padding: 0.1em 0.45em; border-radius: 3px; margin-left: 0.4em; letter-spacing: 0.04em; vertical-align: middle; font-weight: 500; }

/* LATEST CARD AUDIO BADGE */
.latest-audio-badge { background: var(--blue) !important; color: #fff !important; }

/* RELATED CARD AUDIO BADGE */
.related-audio { font-family: var(--mono); font-size: 0.55rem; background: var(--blue); color: #fff; padding: 0.1em 0.45em; border-radius: 3px; margin-left: 0.4em; letter-spacing: 0.04em; vertical-align: middle; font-weight: 500; }

/* FEATURED BANNER (Economist-style: clean, white, with hero image) */
.featured-banner { margin-bottom: 0; padding-bottom: 1.5rem; border-bottom: 2px solid var(--accent); }
.featured-card { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: center; text-decoration: none; transition: background 0.2s; padding: 1.5rem 0; }
.featured-card:hover { background: var(--surface); padding: 1.5rem; margin: 0 -1.5rem; border-radius: 8px; }
.featured-card:hover h2 { color: var(--accent); }
.featured-img { width: 100%; height: 280px; object-fit: cover; border-radius: 6px; }
.featured-text { display: flex; flex-direction: column; }
.featured-badge { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.14em; color: var(--accent); margin-bottom: 0.5rem; font-weight: 600; }
.featured-card h2 { font-family: var(--serif); font-size: clamp(1.4rem, 3vw, 1.9rem); font-weight: 600; line-height: 1.22; margin-bottom: 0.5rem; letter-spacing: -0.015em; color: var(--text); transition: color 0.2s; }
.featured-card p { font-size: 0.92rem; line-height: 1.65; color: var(--text-dim); max-width: 640px; margin-bottom: 0.75rem; }
.featured-cta { font-family: var(--mono); font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent); font-weight: 600; }
@media (max-width: 640px) {
  .featured-card { grid-template-columns: 1fr; gap: 1rem; }
  .featured-img { height: 200px; }
}

/* SECTION HERO */
.section-hero { text-align: left; padding: 2rem 1.5rem 1.5rem; border-bottom: 2px solid var(--section-color, var(--accent)); border-top: 3px solid var(--section-color, var(--accent)); background: var(--bg); }
.section-hero-inner { max-width: 1100px; margin: 0 auto; }
.section-icon { font-size: 2rem; display: inline-block; margin-right: 0.5rem; vertical-align: middle; }
.section-hero h1 { font-family: var(--serif); font-size: clamp(1.8rem, 4vw, 2.4rem); font-weight: 700; color: var(--text); margin-bottom: 0.4rem; letter-spacing: -0.02em; display: inline; }
.section-hero-desc { font-size: 0.95rem; color: var(--text-dim); line-height: 1.6; margin: 0.5rem 0 0.4rem; max-width: 640px; }
.section-hero-count { font-family: var(--mono); font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--section-color, var(--accent)); font-weight: 600; }

/* SECTION EDITORIAL INTRO (auto-generated magazine-style introduction) */
.section-editorial { max-width: 1100px; margin: 0 auto; padding: 2rem 1.5rem 1.5rem; border-bottom: 1px solid var(--border-light); }
.section-editorial-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 0 1.5rem; }
.section-editorial-inner > .section-editorial-prose,
.section-editorial-inner > .section-editorial-more,
.section-editorial-inner > .section-editorial-toggle-wrap { grid-column: 1 / -1; }
.section-editorial-prose p { font-family: var(--sans); font-size: 1.02rem; line-height: 1.78; color: var(--text-body); margin-bottom: 1.1rem; }
.section-editorial-prose p:first-child::first-letter { font-family: var(--serif); font-size: 3.2rem; float: left; line-height: 0.85; margin-right: 0.08em; margin-top: 0.05em; font-weight: 700; color: var(--section-color, var(--accent)); }
.section-editorial-prose a { color: var(--section-color, var(--accent)); text-decoration: none; border-bottom: 1px solid transparent; transition: border-color 0.2s, color 0.2s; }
.section-editorial-prose a:hover { border-bottom-color: var(--section-color, var(--accent)); }
.section-editorial-chart { margin: 0.75rem 0; padding: 0; }
.section-editorial-chart h4 { font-family: var(--serif); font-size: 0.92rem; font-weight: 600; color: var(--text); margin-bottom: 0.25rem; }
.section-editorial-chart .chart-desc { font-size: 0.78rem; color: var(--text-dim); margin-bottom: 0.5rem; line-height: 1.45; }
.section-editorial-chart .chart-area { position: relative; height: 240px; margin-bottom: 0.4rem; }
.section-editorial-chart .chart-area canvas { width: 100% !important; height: 100% !important; }
.section-editorial-chart .chart-source { font-family: var(--mono); font-size: 0.56rem; color: var(--text-faint); letter-spacing: 0.04em; }
.section-editorial-more p { font-family: var(--sans); font-size: 1.02rem; line-height: 1.78; color: var(--text-body); margin-bottom: 1.1rem; }
.section-editorial-more a { color: var(--section-color, var(--accent)); text-decoration: none; border-bottom: 1px solid transparent; transition: border-color 0.2s, color 0.2s; }
.section-editorial-more a:hover { border-bottom-color: var(--section-color, var(--accent)); }
.section-editorial-toggle-wrap { margin: 0.5rem 0 0; }
.section-editorial-toggle { font-family: var(--mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--section-color, var(--accent)); background: none; border: none; cursor: pointer; padding: 0.25rem 0; border-bottom: 1px solid currentColor; }
.section-editorial-toggle:hover { opacity: 0.85; }
@media (max-width: 640px) {
  .section-editorial { padding: 1.5rem 1rem 1rem; }
  .section-editorial-inner { grid-template-columns: 1fr; }
  .section-editorial-prose p:first-child::first-letter { font-size: 2.6rem; }
  .section-editorial-chart .chart-area { height: 220px; }
}

/* Section page: card grid (featured first, then 3-column) */
.section-card-grid { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem 2rem; display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
.section-featured-card { grid-column: 1 / -1; display: block; text-decoration: none; border-radius: 6px; overflow: hidden; background: var(--surface); transition: background 0.2s; }
.section-featured-card:hover { background: var(--surface); }
.section-featured-card .section-card-img-wrap { position: relative; width: 100%; height: 280px; overflow: hidden; }
.section-featured-card .section-featured-img { width: 100%; height: 100%; object-fit: cover; }
.section-featured-card .section-card-text { padding: 1.25rem 1.5rem; }
.section-featured-card .section-card-text h3 { font-family: var(--serif); font-size: 1.35rem; font-weight: 600; color: var(--text); line-height: 1.3; margin-bottom: 0.4rem; }
.section-featured-card .section-card-text p { font-size: 0.9rem; color: var(--text-dim); line-height: 1.55; margin-bottom: 0.5rem; }
.section-featured-card .section-card-meta { font-family: var(--mono); font-size: 0.6rem; color: var(--text-faint); text-transform: uppercase; letter-spacing: 0.08em; display: flex; gap: 1rem; }

.section-card { display: flex; flex-direction: column; text-decoration: none; border-radius: 6px; overflow: hidden; background: var(--surface); border: 1px solid var(--border-light); transition: background 0.2s, border-color 0.2s; }
.section-card:hover { background: var(--bg); border-color: var(--border-light); }
.section-card .section-card-img-wrap { position: relative; width: 100%; aspect-ratio: 400 / 220; overflow: hidden; }
.section-card .section-card-img { width: 100%; height: 100%; object-fit: cover; }
.section-card .section-card-text { padding: 1rem; flex: 1; min-width: 0; }
.section-card .section-card-text h3 { font-family: var(--serif); font-size: 1.05rem; font-weight: 600; color: var(--text); line-height: 1.3; margin-bottom: 0.35rem; }
.section-card .section-card-text p { font-size: 0.82rem; color: var(--text-dim); line-height: 1.55; margin-bottom: 0.5rem; }
.section-card-meta { font-family: var(--mono); font-size: 0.6rem; color: var(--text-faint); text-transform: uppercase; letter-spacing: 0.08em; display: flex; gap: 1rem; }
@media (max-width: 900px) {
  .section-card-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .section-card-grid { grid-template-columns: 1fr; gap: 1.25rem; padding: 0 1rem 1.5rem; }
  .section-featured-card .section-card-img-wrap { height: 200px; }
  .section-featured-card .section-card-text h3 { font-size: 1.15rem; }
}

/* HOME SECTIONS (Economist newspaper-style) */
.home-section { margin-bottom: 0; padding-bottom: 1.5rem; border-bottom: 1px solid var(--accent); }
.home-section:last-child { border-bottom: none; }
.home-section-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 1rem; margin-bottom: 1rem; padding-top: 1.5rem; border-top: 2px solid var(--accent); }
.home-section-header h2 { font-family: var(--serif); font-size: 1.35rem; font-weight: 600; color: var(--text); margin-bottom: 0.2rem; }
.home-section-header h2 a { color: inherit; }
.home-section-header h2 a:hover { color: var(--accent); }
.home-section-icon { margin-right: 0.3rem; }
.home-section-all { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 500; white-space: nowrap; margin-top: 0.3rem; }
.section-desc { font-size: 0.85rem; color: var(--text-dim); margin-bottom: 1rem; font-weight: 300; line-height: 1.5; }

/* Homepage section teaser cards: part badge + optional hero image */
.card-part-badge {
  display: inline-block;
  background: var(--part-color, var(--accent));
  color: #fff;
  font-family: var(--mono);
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  padding: 0.2em 0.5em;
  border-radius: 4px;
  margin-right: 0.35em;
  vertical-align: middle;
}
.home-section .cards .home-section-card {
  overflow: hidden;
  border-radius: 8px;
  border: 1px solid var(--border-light);
  background: var(--surface);
  padding: 0;
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}
.home-section .cards .home-section-card:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.06);
  background: var(--surface);
  padding: 0;
  margin-left: 0;
}
.home-section .cards .home-section-card .home-section-card-img {
  width: 100%;
  height: 140px;
  object-fit: cover;
  display: block;
}
.home-section .cards .home-section-card .card-kicker,
.home-section .cards .home-section-card h3,
.home-section .cards .home-section-card p,
.home-section .cards .home-section-card .card-meta {
  padding-left: 1rem;
  padding-right: 1rem;
}
.home-section .cards .home-section-card .card-kicker { padding-top: 0.75rem; }
.home-section .cards .home-section-card .card-meta { padding-bottom: 0.75rem; margin-top: 0.5rem; }
.home-section .cards .home-section-card:not(:has(.home-section-card-img)) .card-kicker { padding-top: 1rem; }

/* CARDS (newspaper-style: no borders/shadows, thin dividers) */
.section-grid { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem 2rem; }
.cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 0; }
.card { border: none; border-bottom: 1px solid var(--border-light); border-radius: 0; padding: 1rem 1rem 1rem 0; background: transparent; transition: background 0.2s; display: flex; flex-direction: column; }
.card:hover { background: var(--surface); padding-left: 0.75rem; margin-left: -0.75rem; border-radius: 6px; }
.card-kicker { font-family: var(--mono); font-size: 0.58rem; text-transform: uppercase; letter-spacing: 0.12em; font-weight: 500; margin-bottom: 0.4rem; }
.card h3 { font-family: var(--serif); font-size: 1.05rem; font-weight: 600; color: var(--text); line-height: 1.3; margin-bottom: 0.4rem; }
.card p { font-size: 0.82rem; color: var(--text-dim); line-height: 1.55; flex: 1; font-weight: 300; }
.card-meta { display: flex; justify-content: space-between; align-items: center; margin-top: 0.75rem; }
.card .card-link { font-family: var(--mono); font-size: 0.62rem; font-weight: 500; }
.card-time { font-family: var(--mono); font-size: 0.58rem; color: var(--text-faint); letter-spacing: 0.05em; }

/* Read / Listened badges (reading history) */
.article-link-read { position: relative; }
.article-link-read::after { content: 'Read'; position: absolute; top: 0.25rem; right: 0.25rem; font-family: var(--mono); font-size: 0.55rem; color: var(--text-faint); background: var(--surface); padding: 0.15rem 0.4rem; border-radius: 3px; font-weight: 500; }
.article-link-listened::after { content: 'Listened'; }
.latest-card .article-link-read::after { top: 0.5rem; right: 0.5rem; }
.section-card .article-link-read::after { top: 0.35rem; right: 0.35rem; }

/* Card with image (Economist-style: image left, text right) */
.card-with-img { flex-direction: row; gap: 1rem; align-items: flex-start; }
.card-with-img .card-thumb { width: 140px; height: 95px; flex-shrink: 0; object-fit: cover; border-radius: 4px; }
.card-with-img .card-text { flex: 1; min-width: 0; }

/* PAGE CONTAINER */
.page-container { max-width: 720px; margin: 0 auto; padding: 2rem 1.5rem 3rem; }

/* ARTICLE HEADER */
.article-header { text-align: center; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--border); }
.article-kicker { font-family: var(--mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.16em; margin-bottom: 0.6rem; font-weight: 500; }
.article-header h1 { font-family: var(--serif); font-size: clamp(2rem, 5vw, 2.8rem); font-weight: 700; color: var(--text); line-height: 1.15; letter-spacing: -0.02em; margin-bottom: 0.75rem; }
.article-header h1 em { color: var(--accent); font-style: italic; font-weight: 500; }
.article-meta { display: flex; align-items: center; justify-content: center; gap: 0.6rem; font-size: 0.82rem; color: var(--text-faint); }
.article-byline strong { color: var(--text-dim); font-weight: 600; }
.meta-sep { color: var(--border); }
.article-reading-time { font-family: var(--mono); font-size: 0.72rem; letter-spacing: 0.03em; }
.article-deck { font-family: var(--serif); font-size: 1.1rem; font-style: italic; color: var(--text-dim); max-width: 540px; margin: 0 auto 0.75rem; }

/* ARTICLE BODY */
.article-body h2 { font-family: var(--serif); font-size: 1.75rem; font-weight: 600; color: var(--text); margin: 2.5rem 0 0.5rem; letter-spacing: -0.015em; line-height: 1.25; padding-top: 2rem; border-top: 1px solid var(--accent); }
.article-body h2:first-of-type { border-top: none; padding-top: 0; }
.article-body h3 { font-family: var(--serif); font-size: 1.25rem; font-weight: 600; color: var(--text); margin: 2rem 0 0.5rem; }
.article-body p { margin-bottom: 1.2rem; }
.article-body .lead { font-size: 1.15rem; font-weight: 300; color: var(--text); line-height: 1.8; }
.article-body strong { color: var(--text); font-weight: 600; }
.article-body > p:first-child::first-letter { font-family: var(--serif); font-size: 3.4rem; float: left; line-height: 0.8; padding-right: 0.12em; padding-top: 0.07em; color: var(--text); font-weight: 700; }

/* PULL QUOTE */
.pull-quote { margin: 1.5rem 0; padding: 1rem 0 1rem 1.5rem; border-left: 3px solid var(--accent); font-family: var(--serif); font-size: 1.2rem; font-style: italic; color: var(--text); line-height: 1.55; }
.pull-quote p { margin-bottom: 0; }
.pull-quote cite { display: block; font-family: var(--sans); font-size: 0.82rem; font-style: normal; color: var(--text-dim); margin-top: 0.6rem; font-weight: 500; }
.stat-callout { margin: 1.25rem 0; padding: 1rem 1.25rem; background: var(--accent-soft); border-left: 3px solid var(--accent); border-radius: 0 8px 8px 0; font-size: 0.92rem; line-height: 1.55; }
.stat-callout strong { color: var(--accent); }

/* ARTICLE FOOTER */
.article-footer { margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border); text-align: center; }
.back-to-section { font-family: var(--mono); font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 500; }

/* RELATED ARTICLES */
.related-articles { margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
.related-articles h3 { font-family: var(--serif); font-size: 1.2rem; font-weight: 600; color: var(--text); margin-bottom: 1.2rem; }
.related-grid { display: grid; grid-template-columns: 1fr; gap: 0; }
.related-card { display: flex; flex-direction: column; padding: 1rem 0; border-bottom: 1px solid var(--border-light); transition: all 0.2s; }
.related-card:last-child { border-bottom: none; }
.related-card:hover { background: var(--surface); margin: 0 -0.75rem; padding: 1rem 0.75rem; border-radius: 8px; }
.related-kicker { font-family: var(--mono); font-size: 0.58rem; text-transform: uppercase; letter-spacing: 0.12em; font-weight: 500; margin-bottom: 0.25rem; }
.related-title { font-family: var(--serif); font-size: 1rem; font-weight: 600; color: var(--text); line-height: 1.3; margin-bottom: 0.2rem; }
.related-time { font-family: var(--mono); font-size: 0.6rem; color: var(--text-faint); }

/* CHART FIGURES */
.chart-figure { margin: 1.25rem -1rem; padding: 1rem 1rem 0.75rem; background: var(--bg-warm); border: 1px solid var(--border); border-radius: 12px; }
.chart-figure-label { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--accent); font-weight: 500; margin-bottom: 0.15rem; }
.chart-figure h4 { font-family: var(--serif); font-size: 1.1rem; font-weight: 600; color: var(--text); margin-bottom: 0.1rem; }
.chart-figure .chart-desc { font-size: 0.78rem; color: var(--text-dim); margin-bottom: 0.4rem; font-weight: 300; line-height: 1.45; }
.chart-area { position: relative; width: 100%; aspect-ratio: 1.8 / 1; }
.chart-area.tall { aspect-ratio: 4 / 3; }
.chart-figure .chart-source { font-family: var(--mono); font-size: 0.58rem; color: var(--text-faint); margin-top: 0.25rem; padding-top: 0.2rem; border-top: 1px solid var(--border-light); }

/* SPIRAL */
.spiral-container { padding: 1.5rem 0; }
.spiral-ring { position: relative; max-width: 480px; margin: 0 auto; aspect-ratio: 1; }
.spiral-node { position: absolute; width: 130px; padding: 12px 10px; border-radius: 10px; text-align: center; font-size: 0.75rem; font-weight: 600; line-height: 1.3; border: 2px solid; transform: translate(-50%, -50%); background: var(--bg); z-index: 2; }
.spiral-node:nth-child(1) { top:5%;left:25%;border-color:var(--accent);color:var(--accent);background:var(--accent-soft); }
.spiral-node:nth-child(2) { top:5%;left:75%;border-color:var(--blue);color:var(--blue);background:#eff4ff; }
.spiral-node:nth-child(3) { top:52%;left:95%;border-color:var(--purple);color:var(--purple);background:#f5f0ff; }
.spiral-node:nth-child(4) { top:95%;left:75%;border-color:var(--amber);color:var(--amber);background:#fef8ee; }
.spiral-node:nth-child(5) { top:95%;left:25%;border-color:var(--text-dim);color:var(--text-dim);background:var(--surface); }
.spiral-node:nth-child(6) { top:52%;left:5%;border-color:var(--teal);color:var(--teal);background:#effaf4; }
.spiral-label { position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:var(--serif);font-size:1.4rem;font-weight:600;color:var(--accent);opacity:.1;z-index:1; }
.spiral-svg { position:absolute;inset:0;width:100%;height:100%;z-index:0; }
.spiral-svg path { fill:none;stroke:var(--border);stroke-width:1.5;stroke-dasharray:6 4;marker-end:url(#arrowhead); }

.sources { margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border); font-size: 0.78rem; color: var(--text-faint); line-height: 1.7; }
.sources strong { font-weight: 600; color: var(--text-dim); }
.section-break { text-align: center; margin: 2rem 0; color: var(--text-faint); font-size: 1.2rem; letter-spacing: 0.3em; }

/* AUDIO PLAYER */
.audio-player { margin: 1.5rem 0 0; padding: 0; }
.audio-player-inner { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: var(--surface); border: 1px solid var(--border); border-radius: 12px; }
.audio-play-btn { flex-shrink: 0; width: 40px; height: 40px; border-radius: 50%; border: none; background: var(--accent); color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
.audio-play-btn:hover { background: #a82c1f; transform: scale(1.05); }
.audio-play-btn svg { width: 20px; height: 20px; }
.audio-info { flex-shrink: 0; min-width: 0; }
.audio-label { font-family: var(--sans); font-size: 0.82rem; font-weight: 600; color: var(--text); line-height: 1.3; display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
.ai-narrated-badge { display: inline-flex; align-items: center; gap: 0.25rem; font-size: 0.6rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: #5a4800; background: #f5e6a3; padding: 0.15rem 0.45rem; border-radius: 3px; line-height: 1; white-space: nowrap; }
.ai-narrated-badge svg { opacity: 0.6; flex-shrink: 0; }
.audio-meta { font-family: var(--mono); font-size: 0.62rem; color: var(--text-dim); letter-spacing: 0.03em; }
.audio-progress-wrap { flex: 1; height: 24px; background: transparent; cursor: pointer; position: relative; min-width: 60px; display: flex; align-items: center; -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; touch-action: none; }
.audio-progress-track { width: 100%; height: 6px; background: var(--border); border-radius: 3px; position: relative; overflow: visible; pointer-events: none; }
.audio-progress-bar { height: 100%; background: var(--accent); border-radius: 3px; width: 0%; pointer-events: none; }
.audio-progress-wrap .scrub-thumb { position: absolute; top: 50%; width: 14px; height: 14px; background: var(--accent); border: 2px solid #fff; border-radius: 50%; transform: translate(-50%, -50%); left: 0%; opacity: 0; transition: opacity 0.15s; pointer-events: none; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
.audio-progress-wrap:hover .scrub-thumb, .audio-progress-wrap.scrubbing .scrub-thumb { opacity: 1; }
.audio-progress-wrap:hover .audio-progress-track, .audio-progress-wrap.scrubbing .audio-progress-track { height: 8px; }
.audio-time { font-family: var(--mono); font-size: 0.62rem; color: var(--text-faint); white-space: nowrap; min-width: 70px; text-align: right; }
.audio-speed { font-family: var(--mono); font-size: 0.65rem; color: var(--text-dim); background: var(--bg); border: 1px solid var(--border); border-radius: 4px; padding: 0.2rem 0.4rem; cursor: pointer; white-space: nowrap; transition: all 0.15s; user-select: none; }
.audio-speed:hover { color: var(--accent); border-color: var(--accent); }

/* DISCUSSION PLAYER */
.discussion-player { margin: 0.75rem 0 0; padding: 0; }
.discussion-player-inner { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; background: linear-gradient(135deg, #f8f6ff 0%, #f0f4ff 100%); border: 1px solid #d4d0f0; border-radius: 12px; }
.discussion-play-btn { flex-shrink: 0; width: 40px; height: 40px; border-radius: 50%; border: none; background: #5b4fc7; color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
.discussion-play-btn:hover { background: #4338a8; transform: scale(1.05); }
.discussion-play-btn svg { width: 20px; height: 20px; }
.discussion-info { flex-shrink: 0; min-width: 0; }
.discussion-label { font-family: var(--sans); font-size: 0.82rem; font-weight: 600; color: #3b2f8a; line-height: 1.3; }
.discussion-meta { font-family: var(--sans); font-size: 0.62rem; color: var(--text-dim); line-height: 1.4; max-width: 220px; }
.discussion-progress-wrap { flex: 1; height: 24px; background: transparent; cursor: pointer; position: relative; min-width: 60px; display: flex; align-items: center; -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; touch-action: none; }
.discussion-progress-track { width: 100%; height: 6px; background: #d4d0f0; border-radius: 3px; position: relative; overflow: visible; pointer-events: none; }
.discussion-progress-bar { height: 100%; background: #5b4fc7; border-radius: 3px; width: 0%; pointer-events: none; }
.discussion-progress-wrap .scrub-thumb { position: absolute; top: 50%; width: 14px; height: 14px; background: #5b4fc7; border: 2px solid #fff; border-radius: 50%; transform: translate(-50%, -50%); left: 0%; opacity: 0; transition: opacity 0.15s; pointer-events: none; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
.discussion-progress-wrap:hover .scrub-thumb, .discussion-progress-wrap.scrubbing .scrub-thumb { opacity: 1; }
.discussion-progress-wrap:hover .discussion-progress-track, .discussion-progress-wrap.scrubbing .discussion-progress-track { height: 8px; }
.discussion-time { font-family: var(--mono); font-size: 0.62rem; color: var(--text-faint); white-space: nowrap; min-width: 70px; text-align: right; }
.discussion-speed { font-family: var(--mono); font-size: 0.65rem; color: #5b4fc7; background: #fff; border: 1px solid #d4d0f0; border-radius: 4px; padding: 0.2rem 0.4rem; cursor: pointer; white-space: nowrap; transition: all 0.15s; user-select: none; }
.discussion-speed:hover { color: #3b2f8a; border-color: #5b4fc7; }

/* END-OF-ARTICLE CTA */
.article-end-cta { margin: 2.5rem 0 0; padding: 2rem 1.5rem; background: linear-gradient(135deg, #f8f6ff 0%, #f0f4ff 100%); border: 1px solid #d4d0f0; border-radius: 12px; text-align: center; }
.article-end-cta .discussion-player { margin: 0 0 1.5rem; }
.article-end-cta .discussion-player-inner { background: rgba(255,255,255,0.6); }
.cta-prompt { font-family: var(--sans); font-size: 0.95rem; font-weight: 500; color: #3b2f8a; margin: 0 0 1rem; line-height: 1.5; }
.cta-share-buttons { display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
.cta-share-buttons .share-btn { width: 40px; height: 40px; border-radius: 50%; border: 1px solid #d4d0f0; background: #fff; color: #5b4fc7; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; }
.cta-share-buttons .share-btn:hover { background: #5b4fc7; color: #fff; border-color: #5b4fc7; transform: scale(1.08); }
.cta-share-buttons .share-btn svg { width: 18px; height: 18px; }

/* ARTICLE REFERENCES */
.article-references { max-width: 680px; margin: 0 auto; }
.article-references h2 { font-size: 1.2rem; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border); color: var(--text-dim); }
.article-references p, .article-references li { font-size: 0.82rem; color: var(--text-dim); line-height: 1.6; }

/* RESPONSIVE */
@media (max-width: 640px) {
  .page-container { padding: 1.5rem 1rem 2rem; }
  .hero { padding: 2rem 1rem 1rem; }
  .chart-figure { margin: 1rem -0.5rem; padding: 0.75rem; }
  .chart-area { aspect-ratio: 2 / 1; }
  .chart-area.tall { aspect-ratio: 5 / 4; }
  .spiral-node { width: 95px; font-size: 0.63rem; padding: 8px 6px; }
  .cards { grid-template-columns: 1fr; }
  .featured-card { padding: 1rem 0; grid-template-columns: 1fr; gap: 0.75rem; }
  .featured-card:hover { padding: 1rem; margin: 0 -1rem; }
  .featured-img { height: 180px; }
  .featured-card h2 { font-size: 1.3rem; }
  .home-section-header { flex-direction: column; gap: 0.5rem; }
  .article-hero-img, .article-hero-wrap img { max-height: 260px; }
  .card-with-img { flex-direction: column; }
  .card-with-img .card-thumb { width: 100%; height: 150px; }
  .section-hero { padding: 2rem 1rem 1.5rem; }
  .article-body > p:first-child::first-letter { font-size: 2.8rem; }
  .pull-quote { font-size: 1.05rem; margin: 1.25rem 0; }
  .audio-player-inner { flex-wrap: wrap; gap: 0.5rem; padding: 0.6rem 0.75rem; }
  .audio-info { order: 1; }
  .audio-play-btn { order: 0; width: 36px; height: 36px; }
  .audio-progress-wrap { order: 3; flex-basis: 100%; }
  .discussion-player-inner { flex-wrap: wrap; gap: 0.5rem; padding: 0.6rem 0.75rem; }
  .discussion-info { order: 1; }
  .discussion-play-btn { order: 0; width: 36px; height: 36px; }
  .discussion-progress-wrap { order: 3; flex-basis: 100%; }
  .discussion-meta { max-width: none; }
  .article-end-cta { padding: 1.25rem 1rem; margin: 1.5rem 0 0; }
  .cta-prompt { font-size: 0.85rem; }
  .audio-time { order: 2; min-width: auto; }
  .audio-speed { order: 4; }
  .hero-chart-wrap { padding: 0 1rem 1rem; }
  .hero-chart-inner { padding: 1rem; }
  .hero-chart-box { height: 220px; }
  .hero-chart-title { font-size: 1.1rem; }
  .stats-inner { flex-wrap: wrap; gap: 0.5rem 1.5rem; }
  .stat-num { font-size: 1.4rem; }
  .listen-card { flex: 0 0 170px; padding: 1rem 0.85rem 0.85rem; }
  .listen-card-play { width: 30px; height: 30px; }
  .listen-card-title { font-size: 0.8rem; -webkit-line-clamp: 2; }
  .listen-wrap { padding: 2rem 0; }
  /* Listen page responsive */
  .lp-hero { padding: 2rem 0 1.5rem; }
  .lp-hero-title { font-size: 1.6rem; }
  .lp-hero-desc { font-size: 0.88rem; }
  .lp-hero-stats { flex-wrap: wrap; gap: 0.3rem 0.5rem; }
  .lp-filters-inner { gap: 0.75rem; }
  .lp-filter-group { gap: 0.3rem; }
  .lp-tab, .lp-type-btn { font-size: 0.6rem; padding: 0.25rem 0.55rem; }
  .lp-row { gap: 0.5rem; padding: 0.7rem 0.4rem; flex-wrap: wrap; }
  .lp-row-play { width: 22px; height: 22px; }
  .lp-row-title { font-size: 0.82rem; }
  .lp-row-excerpt { display: none; }
  .lp-row-section { font-size: 0.5rem; padding: 0.1rem 0.35rem; }
  .lp-row-duration { font-size: 0.65rem; min-width: auto; }
  .lp-row-type { display: none; }
  .lp-row .q-add-btn { font-size: 0.5rem; padding: 0.2rem 0.4rem; }
  .lp-row .q-add-label { display: none; }
  .ds-card { flex: 0 0 180px; }
  .ds-chart { height: 100px; }
  .sec-chart-preview { display: none; }
}

/* ── Chart badge in article header ── */
.article-chart-badge {
  display: inline-block;
  margin-top: 0.75rem;
  padding: 0.35rem 0.85rem;
  background: #1a1815;
  color: #f5f1ec;
  border-radius: 20px;
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.82rem;
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* Chart images embedded in articles */
.article-chart-img {
  display: block;
  max-width: 100%;
  margin: 2rem auto;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.08);
  border: 1px solid #e8e4df;
}

/* ── Latest Articles Section (Economist-style) ── */
.latest-wrap { padding: 0; border-top: 2px solid var(--accent); }
.latest-inner { max-width: 1100px; margin: 0 auto; padding: 1.5rem 1.5rem 0; }
.latest-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; }
.latest-title { color: var(--text); font-family: var(--serif); font-size: 1.5rem; margin: 0; }
.latest-pulse { width: 10px; height: 10px; background: var(--accent); border-radius: 50%; animation: pulse 2s infinite; }
@keyframes pulse { 0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(196,52,37,0.6); } 50% { opacity: 0.8; box-shadow: 0 0 0 8px rgba(196,52,37,0); } }
.latest-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0; }
.latest-card { display: block; padding: 1.25rem; text-decoration: none; transition: background 0.2s; border-bottom: 1px solid var(--border-light); overflow: hidden; }
.latest-card:hover { background: var(--surface); }
.latest-hero { grid-column: 1 / -1; border-bottom: 1px solid var(--accent); padding-bottom: 1.5rem; }
.latest-secondary { border-right: 1px solid var(--border-light); }
.latest-secondary:last-child { border-right: none; }
.latest-kicker { font-family: var(--mono); font-size: 0.62rem; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--accent); margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
.latest-new { background: var(--accent); color: #fff; padding: 0.15rem 0.5rem; border-radius: 3px; font-size: 0.6rem; font-weight: 700; letter-spacing: 0.1em; }
.latest-badge { background: var(--surface); color: var(--text-dim); padding: 0.1rem 0.4rem; border-radius: 3px; font-size: 0.6rem; }
.latest-card h3 { color: var(--text); font-family: var(--serif); font-size: 1.25rem; margin: 0.25rem 0 0.5rem; line-height: 1.3; }
.latest-hero h3 { font-size: 1.7rem; letter-spacing: -0.015em; }
.latest-card p { color: var(--text-dim); font-size: 0.88rem; line-height: 1.55; margin: 0 0 0.75rem; }
.latest-meta { color: var(--accent); font-family: var(--mono); font-size: 0.68rem; font-weight: 500; letter-spacing: 0.05em; }
@media (max-width: 640px) {
  .latest-grid { grid-template-columns: 1fr; }
  .latest-hero h3 { font-size: 1.3rem; }
  .latest-secondary { border-right: none; }
  .latest-card-img { height: 180px; }
  .latest-hero .latest-card-img { height: 220px; }
}

/* ── New Articles Section ── */
.new-articles-wrap { padding: 2rem 0 0.5rem; }
.new-articles-inner { max-width: 1080px; margin: 0 auto; padding: 0 1.5rem; }
.new-articles-header { margin-bottom: 1.5rem; }
.new-articles-title { font-family: var(--serif); font-size: 1.5rem; font-weight: 600; color: var(--text); margin-bottom: 0.3rem; }
.new-articles-intro { font-size: 0.9rem; color: var(--text-dim); }

/* New Articles grid: magazine layout (2 featured, then 3-col) */
.new-cards-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 1.5rem;
}
.new-cards-grid .card-featured { grid-column: span 3; }
.new-cards-grid .card:not(.card-featured) { grid-column: span 2; }

/* New Articles cards: surface, accent border, image, rounded */
.new-cards-grid .card {
  border: 1px solid var(--border-light);
  border-top: 3px solid var(--section-color, var(--border));
  border-radius: 8px;
  background: var(--surface);
  padding: 0;
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.new-cards-grid .card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  background: var(--surface);
  padding: 0;
  margin-left: 0;
}
.new-cards-grid .card .card-img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  display: block;
  vertical-align: top;
}
.new-cards-grid .card-featured .card-img { height: 200px; }
.new-cards-grid .card .card-kicker,
.new-cards-grid .card h3,
.new-cards-grid .card p,
.new-cards-grid .card .card-meta {
  padding-left: 1rem;
  padding-right: 1rem;
}
.new-cards-grid .card .card-kicker { padding-top: 0.75rem; margin-bottom: 0.35rem; }
.new-cards-grid .card h3 { padding-top: 0; }
.new-cards-grid .card p { padding-bottom: 0.5rem; }
.new-cards-grid .card .card-meta { padding-bottom: 0.75rem; margin-top: 0.5rem; }

/* Cards without image: first text block needs top padding */
.new-cards-grid .card:not(:has(.card-img)) .card-kicker { padding-top: 1rem; }

@media (max-width: 900px) {
  .new-cards-grid { grid-template-columns: repeat(2, 1fr); }
  .new-cards-grid .card-featured,
  .new-cards-grid .card:not(.card-featured) { grid-column: span 1; }
}
@media (max-width: 640px) {
  .new-cards-grid { grid-template-columns: 1fr; gap: 1rem; }
  .new-cards-grid .card-featured,
  .new-cards-grid .card:not(.card-featured) { grid-column: span 1; }
  .new-cards-grid .card .card-img { height: 140px; }
  .new-cards-grid .card-featured .card-img { height: 180px; }
}

/* ── New Badge (for cards on section & homepage) ── */
.card-new-badge { display: inline-block; background: var(--accent); color: #fff; padding: 0.1em 0.45em; border-radius: 3px; font-size: 0.6rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; vertical-align: middle; margin-right: 0.3em; }

/* ── Queue Bar (persistent bottom player) ── */
.queue-bar { position: fixed; bottom: 0; left: 0; right: 0; z-index: 200; background: #1a1815; color: #f5f0e8; transform: translateY(100%); transition: transform 0.3s ease; box-shadow: 0 -4px 24px rgba(0,0,0,0.25); padding-bottom: env(safe-area-inset-bottom, 0px); }
.queue-bar.visible { transform: translateY(0); }
.has-queue-bar { padding-bottom: calc(72px + env(safe-area-inset-bottom, 0px)); }
.queue-bar-inner { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; gap: 0.6rem; padding: 0.6rem calc(1rem + env(safe-area-inset-right, 0px)) 0.6rem calc(1rem + env(safe-area-inset-left, 0px)); height: 72px; }

/* Queue bar controls */
.q-nav-btn { background: none; border: none; color: #a89f91; cursor: pointer; padding: 0.3rem; display: flex; align-items: center; justify-content: center; transition: color 0.15s; }
.q-nav-btn:hover:not(:disabled) { color: #f5f0e8; }
.q-nav-btn:disabled { cursor: default; }
.q-nav-btn svg { width: 18px; height: 18px; }
.q-play-btn { flex-shrink: 0; width: 44px; height: 44px; border-radius: 50%; border: none; background: var(--accent); color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
.q-play-btn:hover { background: #e63b2a; transform: scale(1.06); }
.q-play-btn svg { width: 22px; height: 22px; }

/* Queue bar center wrapper (desktop: invisible, mobile: stacked rows) */
.q-center { display: contents; }
.q-center-top { display: contents; }
.q-center-bottom { display: contents; }

/* Queue bar track info */
.q-track-info { min-width: 0; flex-shrink: 1; max-width: 220px; }
.q-track-title { font-family: var(--serif); font-size: 0.82rem; font-weight: 600; color: #f5f0e8; line-height: 1.3; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.q-track-section { font-family: var(--mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.08em; }

/* Queue bar progress */
.q-progress-wrap { flex: 1; height: 24px; background: transparent; cursor: pointer; position: relative; min-width: 80px; display: flex; align-items: center; -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; touch-action: none; }
.q-progress-track { width: 100%; height: 6px; background: #3d3730; border-radius: 3px; position: relative; overflow: visible; pointer-events: none; }
.q-progress-bar { height: 100%; background: var(--accent); border-radius: 3px; width: 0%; pointer-events: none; }
.q-progress-wrap .scrub-thumb { position: absolute; top: 50%; width: 14px; height: 14px; background: var(--accent); border: 2px solid #fff; border-radius: 50%; transform: translate(-50%, -50%); left: 0%; opacity: 0; transition: opacity 0.15s; pointer-events: none; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
.q-progress-wrap:hover .scrub-thumb, .q-progress-wrap.scrubbing .scrub-thumb { opacity: 1; }
.q-progress-wrap:hover .q-progress-track, .q-progress-wrap.scrubbing .q-progress-track { height: 8px; }
.q-time { font-family: var(--mono); font-size: 0.62rem; color: #a89f91; white-space: nowrap; min-width: 70px; text-align: right; }
.q-speed { font-family: var(--mono); font-size: 0.65rem; color: #a89f91; background: #2d2923; border: 1px solid #3d3730; border-radius: 4px; padding: 0.2rem 0.4rem; cursor: pointer; white-space: nowrap; transition: all 0.15s; user-select: none; }
.q-speed:hover { color: var(--accent); border-color: var(--accent); }

/* Queue toggle button */
.q-toggle-btn { background: none; border: none; color: #a89f91; cursor: pointer; padding: 0.4rem; display: flex; align-items: center; gap: 0.3rem; transition: color 0.15s; position: relative; }
.q-toggle-btn:hover { color: #f5f0e8; }
.q-toggle-btn svg { width: 20px; height: 20px; }
.q-badge { background: var(--accent); color: #fff; font-family: var(--mono); font-size: 0.55rem; font-weight: 700; min-width: 16px; height: 16px; border-radius: 8px; display: flex; align-items: center; justify-content: center; padding: 0 4px; }

/* Queue bar close */
.q-bar-close { background: none; border: none; color: #5c574f; cursor: pointer; padding: 0.3rem; display: flex; align-items: center; transition: color 0.15s; margin-left: 0.2rem; }
.q-bar-close:hover { color: #f5f0e8; }
.q-bar-close svg { width: 16px; height: 16px; }

/* ── Queue Panel (slide-up list) ── */
.queue-panel { position: fixed; bottom: 72px; right: 0; width: 380px; max-height: 60vh; background: #1a1815; border-top: 1px solid #3d3730; border-left: 1px solid #3d3730; border-radius: 12px 0 0 0; z-index: 199; transform: translateX(100%); transition: transform 0.3s ease; display: flex; flex-direction: column; box-shadow: -4px -4px 24px rgba(0,0,0,0.2); }
.queue-panel.open { transform: translateX(0); }
.q-panel-header { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 1rem; border-bottom: 1px solid #2d2923; flex-shrink: 0; }
.q-panel-title { font-family: var(--serif); font-size: 1rem; font-weight: 600; color: #f5f0e8; }
.q-panel-actions { display: flex; gap: 0.5rem; align-items: center; }
.q-panel-btn { background: none; border: 1px solid #3d3730; color: #a89f91; font-family: var(--mono); font-size: 0.62rem; padding: 0.25rem 0.6rem; border-radius: 4px; cursor: pointer; transition: all 0.15s; text-transform: uppercase; letter-spacing: 0.06em; }
.q-panel-btn:hover { color: #f5f0e8; border-color: #5c574f; }
.q-panel-close { background: none; border: none; color: #5c574f; cursor: pointer; padding: 0.2rem; display: flex; transition: color 0.15s; }
.q-panel-close:hover { color: #f5f0e8; }
.q-panel-close svg { width: 18px; height: 18px; }

/* Queue list */
.q-list { overflow-y: auto; flex: 1; padding: 0.5rem 0; scrollbar-width: thin; scrollbar-color: #3d3730 transparent; }
.q-list::-webkit-scrollbar { width: 4px; }
.q-list::-webkit-scrollbar-thumb { background: #3d3730; border-radius: 2px; }

/* Queue item */
.q-item { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; transition: background 0.15s; cursor: default; }
.q-item:hover { background: #2d2923; }
.q-item.q-current { background: #2d2923; border-left: 3px solid var(--accent); padding-left: calc(1rem - 3px); }
.q-item.q-dragging { opacity: 0.4; }
.q-item.q-dragover { border-top: 2px solid var(--accent); }
.q-item-grip { color: #5c574f; cursor: grab; font-size: 0.9rem; flex-shrink: 0; width: 18px; text-align: center; user-select: none; }
.q-item-grip:active { cursor: grabbing; }
.q-item-play { background: none; border: none; color: #a89f91; cursor: pointer; padding: 0.2rem; flex-shrink: 0; display: flex; transition: color 0.15s; }
.q-item-play:hover { color: var(--accent); }
.q-current .q-item-play { color: var(--accent); }
.q-item-info { flex: 1; min-width: 0; }
.q-item-title { font-family: var(--sans); font-size: 0.8rem; font-weight: 600; color: #f5f0e8; line-height: 1.3; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.q-item-section { font-family: var(--mono); font-size: 0.55rem; text-transform: uppercase; letter-spacing: 0.08em; }
.q-item-actions { display: flex; gap: 0.15rem; flex-shrink: 0; }
.q-item-up, .q-item-down, .q-item-remove { background: none; border: none; color: #5c574f; cursor: pointer; font-size: 0.8rem; padding: 0.15rem 0.3rem; border-radius: 3px; transition: all 0.15s; line-height: 1; }
.q-item-up:hover, .q-item-down:hover { color: #f5f0e8; background: #3d3730; }
.q-item-remove:hover { color: var(--accent); background: #3d3730; }
.q-empty { padding: 2rem 1rem; text-align: center; color: #5c574f; font-size: 0.85rem; line-height: 1.6; }

/* ── Add to Queue Button ── */
.q-add-btn { display: inline-flex; align-items: center; gap: 0.35rem; background: #2d2923; border: 1px solid #3d3730; color: #a89f91; font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.06em; padding: 0.35rem 0.65rem; border-radius: 6px; cursor: pointer; transition: all 0.2s; white-space: nowrap; }
.q-add-btn:hover { color: #f5f0e8; border-color: #5c574f; background: #3d3730; }
.q-add-btn.in-queue { color: var(--accent); border-color: var(--accent); }
.q-add-btn.in-queue:hover { background: rgba(196,52,37,0.1); }
.q-add-btn svg { width: 14px; height: 14px; }

/* Add to Queue on light backgrounds (article pages) */
.q-add-btn-light { display: inline-flex; align-items: center; gap: 0.35rem; background: var(--surface); border: 1px solid var(--border); color: var(--text-dim); font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.06em; padding: 0.35rem 0.65rem; border-radius: 6px; cursor: pointer; transition: all 0.2s; white-space: nowrap; }
.q-add-btn-light:hover { color: var(--text); border-color: var(--text-dim); }
.q-add-btn-light.in-queue { color: var(--accent); border-color: var(--accent); background: var(--accent-soft); }

/* Play All button in listen section */
.q-play-all { display: inline-flex; align-items: center; gap: 0.4rem; background: var(--accent); color: #fff; border: none; font-family: var(--mono); font-size: 0.68rem; text-transform: uppercase; letter-spacing: 0.08em; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s; font-weight: 600; }
.q-play-all:hover { background: #e63b2a; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(196,52,37,0.3); }
.q-play-all svg { width: 16px; height: 16px; }

/* ── Queue Bar Responsive ── */
@media (max-width: 640px) {
  .queue-bar-inner { gap: 0.35rem; padding: 0.5rem calc(0.6rem + env(safe-area-inset-right, 0px)) 0.5rem calc(0.6rem + env(safe-area-inset-left, 0px)); height: 64px; }
  .q-nav-btn { display: none; }
  .q-play-btn { width: 36px; height: 36px; flex-shrink: 0; align-self: center; }
  .q-play-btn svg { width: 16px; height: 16px; }
  .q-center { display: flex; flex-direction: column; flex: 1; min-width: 0; gap: 2px; justify-content: center; }
  .q-center-top { display: flex; align-items: center; gap: 0.35rem; }
  .q-center-bottom { display: flex; align-items: center; gap: 0.35rem; }
  .q-track-info { max-width: none; flex: 1; min-width: 0; }
  .q-track-title { font-size: 0.72rem; }
  .q-track-section { display: none; }
  .q-progress-wrap { min-width: 50px; height: 18px; }
  .q-time { font-size: 0.58rem; min-width: auto; }
  .q-speed { font-size: 0.58rem; padding: 0.15rem 0.3rem; }
  .q-toggle-btn { padding: 0.25rem; }
  .q-toggle-btn svg { width: 17px; height: 17px; }
  .q-badge { min-width: 14px; height: 14px; font-size: 0.5rem; }
  .has-queue-bar { padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px)); }
  .queue-panel { width: 100%; border-radius: 12px 12px 0 0; border-left: none; max-height: 50vh; bottom: calc(64px + env(safe-area-inset-bottom, 0px)); }
}

/* ── Card Audio & Bookmark Controls ── */
.card-controls { display: flex; align-items: center; gap: 0.4rem; flex-shrink: 0; }
.card-play-btn { width: 36px; height: 36px; border-radius: 50%; border: none; background: var(--accent, #c43425); color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.18s; flex-shrink: 0; }
.card-play-btn:hover { transform: scale(1.1); box-shadow: 0 2px 8px rgba(196,52,37,0.3); }
.card-play-btn svg { width: 16px; height: 16px; pointer-events: none; }
.card-bookmark-btn { width: 36px; height: 36px; border-radius: 50%; border: 1px solid var(--border, #e5e0d8); background: transparent; color: var(--text-dim, #8a8479); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.18s; flex-shrink: 0; }
.card-bookmark-btn:hover { color: var(--text, #1a1815); border-color: var(--text-dim); }
.card-bookmark-btn .bk-filled { display: none; }
.card-bookmark-btn .bk-outline { display: block; }
.card-bookmark-btn.bookmarked { color: var(--accent, #c43425); border-color: var(--accent, #c43425); }
.card-bookmark-btn.bookmarked .bk-filled { display: block; }
.card-bookmark-btn.bookmarked .bk-outline { display: none; }
.card-bookmark-btn svg { width: 16px; height: 16px; pointer-events: none; }

/* Controls on section page cards */
.section-featured-card { position: relative; }
.section-featured-card .card-controls { position: absolute; right: 1rem; bottom: 1rem; z-index: 2; }
.section-card { position: relative; }
.section-card .card-controls { position: absolute; right: 0.75rem; bottom: 0.75rem; z-index: 2; }

/* Controls on homepage latest cards */
.latest-card { position: relative; }
.latest-card .card-controls { position: absolute; right: 0.75rem; bottom: 0.75rem; z-index: 2; }
.latest-card .card-play-btn { background: rgba(196,52,37,0.9); backdrop-filter: blur(4px); }
.latest-card .card-bookmark-btn { background: rgba(255,255,255,0.85); backdrop-filter: blur(4px); border-color: rgba(0,0,0,0.12); }

/* Controls on new article cards */
.card { position: relative; }
.card .card-controls { position: absolute; right: 0.75rem; bottom: 0.75rem; }

/* New Articles section: smaller controls + reserve space so they don't overlap badges */
.new-articles-wrap .card .card-meta { padding-right: 58px; }
.new-articles-wrap .card .card-controls { gap: 0.3rem; right: 0.5rem; bottom: 0.65rem; }
.new-articles-wrap .card .card-play-btn { width: 26px; height: 26px; }
.new-articles-wrap .card .card-bookmark-btn { width: 26px; height: 26px; }
.new-articles-wrap .card .card-play-btn svg,
.new-articles-wrap .card .card-bookmark-btn svg { width: 12px; height: 12px; }

/* Controls on listen page rows */
.lp-row .card-controls { flex-shrink: 0; }

/* ── Audio Popover ── */
.audio-popover { background: #1a1815; border: 1px solid #3d3730; border-radius: 10px; box-shadow: 0 8px 32px rgba(0,0,0,0.28); padding: 0.35rem 0; min-width: 180px; animation: popoverIn 0.15s ease-out; }
@keyframes popoverIn { from { opacity: 0; transform: translateY(-4px); } to { opacity: 1; transform: translateY(0); } }
.audio-popover-item { display: flex; align-items: center; gap: 0.6rem; width: 100%; padding: 0.55rem 0.9rem; border: none; background: none; color: #e8e2d8; font-family: var(--sans, -apple-system, sans-serif); font-size: 0.82rem; cursor: pointer; transition: background 0.12s; text-align: left; white-space: nowrap; }
.audio-popover-item:hover { background: #2d2923; }
.audio-popover-item svg { width: 16px; height: 16px; flex-shrink: 0; color: #a89f91; }
.audio-popover-item:hover svg { color: var(--accent, #c43425); }

/* ── Toast ── */
.hfn-toast { position: fixed; bottom: 88px; left: 50%; transform: translateX(-50%) translateY(20px); background: #1a1815; color: #f5f0e8; padding: 0.55rem 1.2rem; border-radius: 8px; font-family: var(--sans, -apple-system, sans-serif); font-size: 0.82rem; font-weight: 500; box-shadow: 0 4px 20px rgba(0,0,0,0.3); z-index: 10002; opacity: 0; pointer-events: none; transition: all 0.25s ease; }
.hfn-toast.visible { opacity: 1; transform: translateX(-50%) translateY(0); }
.hfn-toast-interactive { pointer-events: auto; }
.hfn-toast-link { color: #f5f0e8; text-decoration: underline; text-underline-offset: 2px; opacity: 0.85; margin-left: 0.15em; }
.hfn-toast-link:hover { opacity: 1; }

@media (max-width: 640px) {
  .card-play-btn { width: 32px; height: 32px; }
  .card-bookmark-btn { width: 32px; height: 32px; }
  .card-play-btn svg, .card-bookmark-btn svg { width: 14px; height: 14px; }
  .audio-popover { min-width: 160px; }
  .hfn-toast { bottom: 76px; font-size: 0.78rem; }
}

/* ── Nav Right (search + hamburger) ── */
.nav-right { display: flex; align-items: center; gap: 0.25rem; }
.nav-search-btn { background: none; border: none; cursor: pointer; padding: 0.4rem; color: var(--text-dim); border-radius: 6px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; }
.nav-search-btn:hover { color: var(--text); background: var(--surface); }
.nav-search-btn svg { width: 18px; height: 18px; }

/* ── Search Overlay ── */
.search-overlay { position: fixed; inset: 0; z-index: 200; background: rgba(26,24,21,0.6); display: flex; align-items: flex-start; justify-content: center; padding-top: 10vh; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; }
.search-overlay.open { opacity: 1; visibility: visible; }
.search-overlay-inner { background: var(--bg); border-radius: 16px; width: 100%; max-width: 580px; max-height: 70vh; display: flex; flex-direction: column; box-shadow: 0 24px 80px rgba(0,0,0,0.25); overflow: hidden; margin: 0 1rem; }
.search-header { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; border-bottom: 1px solid var(--border-light); }
.search-input-wrap { flex: 1; display: flex; align-items: center; gap: 0.6rem; }
.search-icon { width: 18px; height: 18px; flex-shrink: 0; color: var(--text-dim); }
.search-input { flex: 1; border: none; outline: none; font-family: var(--sans); font-size: 1rem; color: var(--text); background: transparent; }
.search-input::placeholder { color: var(--text-faint); }
.search-close { background: none; border: none; cursor: pointer; padding: 0.35rem; color: var(--text-dim); border-radius: 6px; transition: all 0.15s; display: flex; }
.search-close:hover { color: var(--text); background: var(--surface); }
.search-close svg { width: 18px; height: 18px; }
.search-results { overflow-y: auto; padding: 0.5rem; flex: 1; }
.search-hint, .search-empty { text-align: center; padding: 2rem 1rem; font-family: var(--mono); font-size: 0.72rem; color: var(--text-faint); letter-spacing: 0.05em; }
.search-result { display: flex; align-items: center; padding: 0.75rem 0.85rem; border-radius: 10px; transition: background 0.15s; gap: 0.5rem; }
.search-result:hover, .search-result-active { background: var(--surface); }
.search-result-link { display: flex; flex-direction: column; gap: 0.15rem; text-decoration: none; flex: 1; min-width: 0; }
.search-result .card-controls { flex-shrink: 0; }
.search-result-kicker { font-family: var(--mono); font-size: 0.58rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 500; display: flex; align-items: center; gap: 0.4rem; flex-wrap: wrap; }
.search-result-title { font-family: var(--serif); font-size: 0.95rem; font-weight: 600; color: var(--text); line-height: 1.3; }
.search-result-meta { font-family: var(--mono); font-size: 0.6rem; color: var(--text-faint); }
.search-badge { font-size: 0.5rem; padding: 0.1em 0.35em; border-radius: 3px; letter-spacing: 0.04em; font-weight: 500; color: #fff; }
.search-badge-chart { background: var(--accent); }
.search-badge-audio { background: var(--blue); }

/* ── Breadcrumbs ── */
.breadcrumbs { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-faint); margin-bottom: 1.25rem; line-height: 1.6; }
.breadcrumbs a { color: var(--text-dim); transition: color 0.15s; }
.breadcrumbs a:hover { color: var(--accent); }
.breadcrumb-sep { color: var(--border); margin: 0 0.35em; }
.breadcrumb-current { color: var(--text-dim); font-weight: 500; }
.section-hero .breadcrumbs { margin-bottom: 0.75rem; }

/* ── Back Bar (sticky, appears on article scroll) ── */
.back-bar { position: sticky; top: 56px; z-index: 90; background: var(--bg); border-bottom: 1px solid var(--border-light); opacity: 0; transform: translateY(-100%); transition: opacity 0.25s, transform 0.25s; pointer-events: none; }
.back-bar.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }
.back-bar-inner { max-width: 720px; margin: 0 auto; padding: 0.4rem 1.5rem; }
.back-bar-inner a { font-family: var(--mono); font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 500; text-decoration: none; transition: opacity 0.15s; }
.back-bar-inner a:hover { opacity: 0.7; }

/* ── Back to Top (in article footer) ── */
.article-footer { display: flex; justify-content: center; gap: 2rem; align-items: center; }
.back-to-top { font-family: var(--mono); font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 500; color: var(--text-dim); }
.back-to-top:hover { color: var(--text); }

/* ── Search responsive ── */
@media (max-width: 640px) {
  .search-overlay { padding-top: 0; align-items: flex-start; }
  .search-overlay-inner { max-height: 100vh; border-radius: 0; margin: 0; max-width: 100%; }
  .breadcrumbs { font-size: 0.58rem; margin-bottom: 1rem; }
  .back-bar-inner { padding: 0.35rem 1rem; }
  .article-footer { flex-direction: column; gap: 0.75rem; }
}

/* ── Share Buttons ── */
.share-bar { display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
.share-bar-top { margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-light); }
.share-bar-bottom { margin-top: 2.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-light); }
.share-label { font-family: var(--mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-faint); margin-right: 0.25rem; }
.share-btn { display: inline-flex; align-items: center; justify-content: center; width: 34px; height: 34px; border-radius: 8px; border: 1px solid var(--border); background: var(--bg); color: var(--text-dim); cursor: pointer; transition: all 0.2s; padding: 0; }
.share-btn:hover { color: var(--text); border-color: var(--text-dim); background: var(--surface); }
.share-btn svg { width: 16px; height: 16px; }
.share-bookmark-btn { width: 34px; height: 34px; border-radius: 8px; border: 1px solid var(--border); margin-left: 0.25rem; }
.share-bookmark-btn:hover { border-color: var(--text-dim); background: var(--surface); }
.share-bookmark-btn.bookmarked { color: var(--accent); border-color: var(--accent); background: transparent; }
.chart-share-bar { position: absolute; top: 0.5rem; right: 0.5rem; display: flex; gap: 0.25rem; opacity: 0; transition: opacity 0.2s; z-index: 10; }
.chart-figure:hover .chart-share-bar { opacity: 1; }
.chart-share-bar .chart-share-btn { width: 28px; height: 28px; border-radius: 6px; background: var(--bg); border: 1px solid var(--border); opacity: 1; position: static; }
.chart-share-bar .chart-share-btn:hover { background: var(--surface); border-color: var(--text-dim); color: var(--text); }
.chart-figure { position: relative; }

/* Toast notifications */
.copy-toast { position: fixed; bottom: 5rem; left: 50%; transform: translateX(-50%) translateY(1rem); background: var(--text); color: var(--bg); font-family: var(--mono); font-size: 0.72rem; letter-spacing: 0.05em; padding: 0.5rem 1.2rem; border-radius: 8px; opacity: 0; visibility: hidden; transition: all 0.25s; z-index: 300; pointer-events: none; }
.copy-toast.show { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }

/* Chart share capture — hide toolbar during screenshot */
.chart-figure.capturing .chart-share-bar { display: none !important; }

@media (max-width: 640px) {
  .share-bar { gap: 0.35rem; }
  .share-btn { width: 30px; height: 30px; }
  .share-btn svg { width: 14px; height: 14px; }
}

/* ═══════════════════════════════════════════════════════════════ */
/* ── LIBRARY PAGE                                             ── */
/* ═══════════════════════════════════════════════════════════════ */

/* Hero */
.lib-hero { background: var(--surface); padding: 3rem 0 2.5rem; border-bottom: 1px solid var(--border); }
.lib-hero-inner { max-width: 780px; margin: 0 auto; padding: 0 1.5rem; text-align: center; }
.lib-hero-title { font-family: var(--serif); font-size: 2.2rem; font-weight: 700; color: var(--text); margin-bottom: 0.6rem; letter-spacing: -0.02em; }
.lib-hero-desc { font-size: 1rem; color: var(--text-dim); line-height: 1.6; margin-bottom: 1.25rem; max-width: 600px; margin-left: auto; margin-right: auto; font-family: var(--serif); font-style: italic; }
.lib-hero-stats { display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 0; flex-wrap: wrap; }
.lib-stat { font-family: var(--mono); font-size: 0.78rem; color: var(--text); letter-spacing: 0.03em; }
.lib-stat strong { font-weight: 700; color: var(--accent); }
.lib-stat-sep { color: var(--text-faint); font-size: 0.7rem; }

/* Intro essay */
.lib-intro-wrap { max-width: 680px; margin: 0 auto; padding: 2.5rem 1.5rem 1.5rem; }
.lib-intro-wrap p { font-size: 1.05rem; color: var(--text-body); line-height: 1.78; margin-bottom: 1.25rem; }
.lib-intro-wrap p:last-child { margin-bottom: 0; }
.lib-disclaimer { font-family: var(--mono); font-size: 0.72rem; color: var(--text-dim); letter-spacing: 0.02em; border-left: 3px solid var(--accent); padding-left: 1rem; margin-top: 1.5rem; line-height: 1.6; }

/* Theme cards grid */
.lib-themes-wrap { max-width: 1080px; margin: 0 auto; padding: 2rem 1.5rem 3rem; }
.lib-themes-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
.lib-theme-card { background: var(--bg); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; border-top: 3px solid var(--theme-color, var(--accent)); transition: box-shadow 0.2s; }
.lib-theme-card:hover { box-shadow: 0 4px 16px rgba(0,0,0,0.06); }
.lib-theme-header { display: flex; align-items: flex-start; gap: 0.75rem; margin-bottom: 0.75rem; }
.lib-theme-icon { font-size: 1.5rem; line-height: 1; flex-shrink: 0; margin-top: 0.1rem; }
.lib-theme-info { flex: 1; }
.lib-theme-name { font-family: var(--serif); font-size: 1.15rem; font-weight: 600; color: var(--text); line-height: 1.3; margin-bottom: 0.15rem; }
.lib-theme-count { font-family: var(--mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-faint); }
.lib-theme-desc { font-size: 0.88rem; color: var(--text-dim); line-height: 1.55; margin-bottom: 0; }

/* Book list inside theme card */
.lib-book-list { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-light); }
.lib-book-item { display: flex; align-items: baseline; gap: 0.5rem; padding: 0.35rem 0; border-bottom: 1px solid var(--border-light); }
.lib-book-item:last-child { border-bottom: none; }
.lib-book-title { font-family: var(--serif); font-size: 0.88rem; font-weight: 500; color: var(--text); flex: 1; line-height: 1.35; }
.lib-book-author { font-size: 0.78rem; color: var(--text-dim); white-space: nowrap; }
.lib-book-amazon { font-size: 0.72rem; font-weight: 600; color: #b8751a; text-decoration: none; white-space: nowrap; padding: 0.15rem 0.45rem; border: 1px solid #b8751a; border-radius: 3px; transition: background 0.15s, color 0.15s; flex-shrink: 0; }
.lib-book-amazon:hover { background: #b8751a; color: #fff; }
/* Responsive */
@media (max-width: 768px) {
  .lib-themes-grid { grid-template-columns: 1fr; }
  .lib-hero-title { font-size: 1.8rem; }
  .lib-hero-stats { gap: 0.35rem; }
  .lib-book-item { flex-wrap: wrap; gap: 0.25rem; }
  .lib-book-author { width: auto; }
  .lib-book-amazon { margin-left: auto; }
}

/* ─── Saved (My Library) page ─── */
.saved-hero { background: var(--surface); padding: 2.5rem 0 2rem; border-bottom: 1px solid var(--border); }
.saved-hero-inner { max-width: 720px; margin: 0 auto; padding: 0 1.5rem; text-align: center; }
.saved-hero-title { font-family: var(--serif); font-size: 2rem; font-weight: 700; color: var(--text); margin-bottom: 0.5rem; letter-spacing: -0.02em; }
.saved-hero-desc { font-size: 0.95rem; color: var(--text-dim); line-height: 1.5; margin: 0; }
.saved-grid { display: grid; grid-template-columns: 1fr; gap: 0.75rem; margin-top: 1.5rem; }
.saved-card { display: flex; align-items: center; gap: 0.75rem; padding: 1rem 1.25rem; background: var(--bg); border: 1px solid var(--border); border-radius: 8px; transition: box-shadow 0.2s; }
.saved-card:hover { box-shadow: 0 2px 12px rgba(0,0,0,0.05); }
.saved-card-info { flex: 1; min-width: 0; }
.saved-card-section { display: block; font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.25rem; }
.saved-card-link { display: block; font-family: var(--serif); font-size: 1rem; font-weight: 600; color: var(--text); text-decoration: none; line-height: 1.35; }
.saved-card-link:hover { color: var(--accent); }
.saved-card-remove { flex-shrink: 0; width: 2rem; height: 2rem; padding: 0; border: none; background: var(--surface); color: var(--text-faint); display: flex; align-items: center; justify-content: center; border-radius: 4px; cursor: pointer; transition: background 0.15s, color 0.15s; }
.saved-card-remove:hover { background: var(--border); color: var(--text); }
.saved-card-remove svg { width: 14px; height: 14px; pointer-events: none; }
.saved-empty { padding: 2rem 1rem; text-align: center; color: var(--text-dim); font-size: 0.95rem; line-height: 1.6; }
.saved-empty a { color: var(--accent); font-weight: 500; }

/* ─── Issue Pages ─── */
.issue-hero { background: var(--bg-warm); border-bottom: 1px solid var(--border); padding: 2.5rem 1.5rem 2rem; }
.issue-hero-inner { max-width: 1100px; margin: 0 auto; }
.issue-number-label { font-family: var(--mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--accent); font-weight: 600; margin-bottom: 0.35rem; }
.issue-title { font-family: var(--serif); font-size: 2.2rem; font-weight: 700; color: var(--text); margin: 0 0 0.5rem; line-height: 1.2; }
.issue-meta { font-family: var(--mono); font-size: 0.72rem; color: var(--text-dim); letter-spacing: 0.04em; }
.issue-card-section { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 600; display: block; margin-bottom: 0.25rem; }

/* Issue archive grid */
.issue-archive-grid { max-width: 1100px; margin: 0 auto; padding: 2rem 1.5rem 3rem; display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
.issue-archive-card { display: flex; flex-direction: column; background: var(--bg); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; text-decoration: none; color: inherit; transition: box-shadow 0.2s, transform 0.2s; }
.issue-archive-card:hover { box-shadow: 0 6px 20px rgba(0,0,0,0.07); transform: translateY(-2px); }
.issue-archive-img-wrap { aspect-ratio: 16/9; overflow: hidden; background: var(--bg-warm); }
.issue-archive-img { width: 100%; height: 100%; object-fit: cover; }
.issue-archive-text { padding: 1.25rem; flex: 1; }
.issue-archive-number { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--accent); font-weight: 600; margin-bottom: 0.25rem; }
.issue-archive-text h3 { font-family: var(--serif); font-size: 1.15rem; font-weight: 600; color: var(--text); margin: 0 0 0.65rem; line-height: 1.3; }
.issue-archive-titles { list-style: none; padding: 0; margin: 0 0 0.75rem; }
.issue-archive-titles li { font-size: 0.82rem; color: var(--text-body); padding: 0.2rem 0; border-bottom: 1px solid var(--border-light); line-height: 1.4; }
.issue-archive-titles li:last-child { border-bottom: none; }
.issue-archive-titles li.issue-archive-more { color: var(--text-dim); font-style: italic; }
.issue-archive-meta { font-family: var(--mono); font-size: 0.65rem; color: var(--text-dim); letter-spacing: 0.04em; }

/* Issue page nav (prev/next) */
.issue-page-nav { max-width: 1100px; margin: 0 auto; padding: 1.5rem; display: flex; justify-content: space-between; align-items: center; }
.issue-nav-link { font-family: var(--mono); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--accent); text-decoration: none; font-weight: 600; padding: 0.5rem 1rem; border: 1px solid var(--accent); border-radius: 6px; transition: background 0.15s, color 0.15s; }
.issue-nav-link:hover { background: var(--accent); color: #fff; }

/* Homepage issue header */
.issue-date-sub { font-family: var(--mono); font-size: 0.7rem; color: var(--text-dim); letter-spacing: 0.03em; display: block; margin-top: 0.15rem; }
.issue-archive-link { font-family: var(--mono); font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--accent); text-decoration: none; font-weight: 600; white-space: nowrap; }
.issue-archive-link:hover { text-decoration: underline; }

/* Previous issue teaser */
.prev-issue-teaser { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem 1.5rem; }
.prev-issue-inner { background: var(--bg-warm); border: 1px solid var(--border); border-radius: 10px; padding: 1.25rem 1.5rem; }
.prev-issue-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem; }
.prev-issue-label { font-family: var(--mono); font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-dim); font-weight: 600; }
.prev-issue-link { font-family: var(--mono); font-size: 0.68rem; color: var(--accent); text-decoration: none; font-weight: 600; }
.prev-issue-link:hover { text-decoration: underline; }
.prev-issue-titles { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; gap: 0.25rem 1.25rem; }
.prev-issue-titles li { font-size: 0.82rem; color: var(--text-body); line-height: 1.5; }
.prev-issue-titles li.prev-issue-more { color: var(--text-dim); font-style: italic; }

/* Issue badge on article cards */
.article-issue-badge { font-family: var(--mono); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent); }
.article-issue-badge a { color: var(--accent); text-decoration: none; }
.article-issue-badge a:hover { text-decoration: underline; }

@media (max-width: 768px) {
  .issue-archive-grid { grid-template-columns: 1fr; }
  .issue-title { font-size: 1.7rem; }
  .issue-page-nav { flex-direction: column; gap: 0.75rem; }
}

/* ─── Charts Gallery ─── */
.charts-hero { background: var(--bg-warm); border-bottom: 1px solid var(--border); padding: 2.5rem 1.5rem 2rem; }
.charts-hero-inner { max-width: 1100px; margin: 0 auto; }
.charts-title { font-family: var(--serif); font-size: 2.2rem; font-weight: 700; color: var(--text); margin: 0 0 0.5rem; line-height: 1.2; }
.charts-intro { font-size: 1rem; color: var(--text-body); line-height: 1.6; margin: 0 0 1.5rem; max-width: 600px; }
.charts-filters { display: flex; flex-wrap: wrap; gap: 0.5rem; }
.charts-filter-btn { font-family: var(--mono); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em; padding: 0.4rem 0.9rem; border: 1px solid var(--border); background: var(--bg); color: var(--text-body); border-radius: 6px; cursor: pointer; font-weight: 600; transition: background 0.15s, border-color 0.15s; }
.charts-filter-btn:hover { border-color: var(--accent); color: var(--accent); }
.charts-filter-btn.active { background: var(--accent); border-color: var(--accent); color: #fff; }

.charts-grid { max-width: 1100px; margin: 0 auto; padding: 2rem 1.5rem 3rem; display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
.charts-card { position: relative; }
.charts-card .chart-figure { margin: 0; }
.charts-article-link { display: block; font-size: 0.82rem; font-weight: 600; text-decoration: none; color: var(--accent); margin-top: 0.5rem; text-align: right; }
.charts-article-link:hover { text-decoration: underline; }

@media (max-width: 768px) {
  .charts-grid { grid-template-columns: 1fr; }
  .charts-filters { gap: 0.4rem; }
}

